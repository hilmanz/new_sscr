  {literal}
<script>
 $(function() {
		function convertDate(inputFormat) {
		  function pad(s) { return (s < 10) ? '0' + s : s; }
		  var d = new Date(inputFormat);
		  return [pad(d.getMonth()), pad(d.getDate()+1), d.getFullYear()].join('/');
		}
		
		$('#datepickers1').change(function()
									{
										
										var today = new Date();     
										var tglintv =  convertDate($(this).val());   
										var miliday = 24 * 60 * 60 * 1000;
										var selisih = (tglintv - today) / miliday;
										 console.log(selisih);
										 $('.dateintrv_no').html('');
										if(selisih<=2)
										{
										console.log('ss');
											$('.dateintrv_no').html('The date you selected is less than 2 days from today.');
										}
									});	
		$('#timepicker1').timepicker();
	});
	  $(function() {
	  $('#datepicker2').datepicker();
		$('#timepicker2').timepicker();
	});
{/literal}
</script>
<script>
{literal}
 // This example adds a search box to a map, using the Google Place Autocomplete
// feature. People can enter geographical searches. The search box will return a
// pick list containing a mix of places and predicted search terms.



  


$(function() {
    $( "#datepickers1" ).datepicker({
	dateFormat:"dd-mm-yy",
     // defaultDate: "+1w",
      changeMonth: true,
      numberOfMonths: 1,
      onClose: function( selectedDate ) {
        $( "#datepickers2" ).datepicker( "option", "minDate", selectedDate );
		$('#timepicker1').val('');
		$('#timepicker2').val('');
		
      }
    });
    $( "#datepickers2" ).datepicker({
	dateFormat:"dd-mm-yy",
     // defaultDate: "+1w",
      changeMonth: true,
      numberOfMonths: 1,
      onClose: function( selectedDate ) { 
        $( "#datepickers1" ).datepicker( "option", "maxDate", selectedDate );
		$('#timepicker1').val('');
		$('#timepicker2').val('');
      }
    });
	
	

});
    </script>
 {/literal}
<div class="page_section" id="project-page">
    <div id="container">
        <div class="titlebox">
            <h2 class="fl"><span class="icon-event">&nbsp;</span>Add Challenge</h2>            
        </div><!-- end .titlebox -->
        <div class="content">
            <form id="forms" class="forms" method="post" action="{$basedomain}challangemanagement/addchallange">			
				<div id="new-project" class="boxcontent">
					<section class="step1">	
						<div class="row">
							<label for="name">Nama Chapter<br></label>
								<select name="chapter_id[]" class="chapter_id selectpicker"  multiple data-selected-text-format="count>2">					   
									<option value="">Pilih Chapter</option>						 
									{section name=i loop=$listchap}
										<option value="{$listchap[i].id}">{$listchap[i].name_chapter}</option>						
									{/section}					  
								</select><br>
							<label class="chapter_id_erorr msg_name"  style="color: red;"></label>
						</div><!-- end .row -->
						
						<div class="row">
							<label for="name">Nama Challenge<br></label>
							<input type="text" id="events" name="name" class="name"><br>
							<label class="name_erorr msg_name"  style="color: red;"></label>
						</div><!-- end .row -->
					  					
						<div class="row">
							<label>Deskripsi Challenge<br></label>
							<textarea id="description" name="description" class="description"></textarea><br>						
							<label class="description_erorr msg_name" style="color: red;"></label>						
						</div><!-- end .row -->												
						
						<div class="row">
							<label>Kategori Challenge<br></label>
							<select name="category" class="catchalange">
							<option value="">Pilih Kategori</option>
							<option value="1">Games</option>
							<option value="2">Twitter</option>
							</select>
							<br>						
							<label class="tantangan_erorr msg_name" style="color: red;"></label>						
						</div><!-- end .row -->	
						
						<div class="row urlnya" style="display:none">
							<label for="url">URL Game<br></label>
							<input type="text" id="" name="url" class=""><br>
							<label class="url_erorr msg_name"  style="color: red;"></label>
						</div><!-- end .row -->
						
						<div class="row hastagnya" style="display:none">
							<label for="hastag">Hastag<br></label>
                            <div class="relative rowhastags">
                            <span class="hastagss">#</span>
							<input type="text" id="" name="hastags" class=""></div><br>
							<label class="hastag_erorr msg_name"  style="color: red;"></label>
						</div><!-- end .row -->
						
						<div class="row">
							<label for="start_time">Tanggal Mulai<br></label>
							<input name="start_time" id="datepickers1" type="text" class="start_time"><br>						
							<label class="start_time_erorr msg_name" style="color: red;"></label>
							<label class="dateintrv_no" style="color: red;"></label>
						</div><!-- end .row -->
						<div class="row">
							<label for="end_time">Tanggal Berakhir<br></label>
							<input name="end_time" id="datepickers2" type="text" class="end_time" ><br>						
							<label class="end_time_erorr msg_name" style="color: red;"></label>
							<label class="dateintrv_no" style="color: red;"></label>
						</div><!-- end .row -->						
												
						
						<div class="row" >						
							<input type="submit" value="Simpan" name="submit" class="fr button3 submitevent"  />					
							<a href="{$basedomain}challangemanagement" class="button4 fr text-center">Batal</a>
						</div><!-- end .row -->
					</section>
				</div><!-- end #wizard -->			
            </form>
        </div><!-- end .content -->
    </div><!-- end #container -->
</div><!-- end #home -->
<script>
{literal}
	$(document).on('click','.submitevent',function(){
		$('.chapter_id_erorr').html('');
		$('.name_erorr').html('');
		$('.cdescription_erorr').html('');
		$('.start_time_erorr').html('');
		$('.tantangan_erorr').html('');
		$('.end_time').html('');
		$('.dateend_erorr').html('');
		$('.timeend_erorr').html('');
		$('.timestart_erorr').html('');
		$('.jumlahpeserta_erorr').html('');
		$('.alamat_erorr').html('');
		$('.namechapter_erorr').html('');
		$('.lang_erorr').html('');
		var valid='';
		
		if($('.chapter_id').val()=='')
		{
			$('.chapter_id_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		
		if($('.catchalange').val()=='')
		{
			$('.tantangan_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		
		if($('.name').val()=='')
		{
			$('.name_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.description').val()=='')
		{
			$('.description_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.start_time').val()=='')
		{
			$('.start_time_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.end_time').val()=='')
		{
			$('.end_time_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.timestart').val()=='')
		{
			$('.timestart_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.dateend').val()=='')
		{
			$('.dateend_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.timeend').val()=='')
		{
			$('.timeend_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if($('.alamat').val()=='')
		{
			$('.alamat_erorr').html('kolom ini harus di isi');
			valid='ada';
		}

		if($('.chapter_id').val()=='')
		{
			$('.namechapter_erorr').html('kolom ini harus di isi');
			valid='ada';
		}
		if(valid)
		{
			return false;
		}
		else
		{
			$('.fromevent').trigger('submit');
		}
	})
	
	$(document).on('change','.catchalange',function(){
			console.log($(this).val());
		if ($(this).val()==1 ){
			$('.urlnya').show();
			$('.hastagnya').hide();
		}
		if ($('.catchalange').val()==2 ){
			$('.hastagnya').show();
			$('.urlnya').hide();
		}
		if ($('.catchalange').val()=='' ){
			$('.hastagnya').hide();
			$('.urlnya').hide();
		}
		
		
		
	});
{/literal}
</script>
